<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Live/Video Viewer</title>
<style>
body{font-family:sans-serif;background:#f3f3f3;margin:0}
h1{text-align:center;background:#222;color:#fff;padding:10px;margin:0}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;padding:20px}
.tile{background:#fff;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,.15);cursor:pointer;overflow:hidden;transition:.2s}
.tile:hover{transform:scale(1.03)}
.tile img{width:100%;display:block}
.tile-title{text-align:center;padding:6px;font-size:.9rem}
.modal{display:none;position:fixed;z-index:9999;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,.85);justify-content:center;align-items:center}
.modal-content{width:90%;max-width:1000px;aspect-ratio:16/9;background:#000;position:relative;border-radius:8px;overflow:hidden}
.close-btn{position:absolute;top:10px;right:15px;font-size:30px;color:white;cursor:pointer;z-index:2}
iframe{width:100%;height:100%;border:none}
</style>
</head>
<body>
<div class="grid" id="grid"></div>
<div class="modal" id="modal">
 <div class="modal-content">
  <span class="close-btn" onclick="closeModal()">&times;</span>
  <iframe id="player" allowfullscreen allow="autoplay; encrypted-media"></iframe>
 </div>
</div>
<script>
fetch('channels.json').then(r=>r.json()).then(list=>{
 const g=document.getElementById('grid'),m=document.getElementById('modal'),f=document.getElementById('player');
 list.forEach(ch=>{
   const t=document.createElement('div');
   t.className='tile';
   t.innerHTML=`<img src="${ch.thumbnail}" alt="${ch.title}"><div class="tile-title">${ch.title}</div>`;
   t.onclick=()=>{f.src=ch.embed+'?autoplay=1';m.style.display='flex';};
   g.appendChild(t);
 });
 window.closeModal=()=>{m.style.display='none';f.src='';};
 window.onclick=e=>{if(e.target===m)closeModal();};
});
</script>
</body>
</html>
